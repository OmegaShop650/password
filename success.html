<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8" />
  <title>Успішний вхід | OmegaShop</title>
</head>
<body>
  <h1>Вітаємо, ви успішно увійшли!</h1>
  <p id="user-info"></p>

  <script>
    // Перевірка логіну через звичайний акаунт
    const loginUser = localStorage.getItem('loggedIn');

    // Перевірка Google токена
    const googleToken = localStorage.getItem('loggedInGoogleToken');

    const userInfo = document.getElementById('user-info');

    if (loginUser) {
      userInfo.textContent = `Привіт, ${loginUser}! Ви увійшли через звичайну форму.`;
    } else if (googleToken) {
      // Декодуємо JWT для отримання імені
      try {
        const payload = JSON.parse(atob(googleToken.split('.')[1]));
        userInfo.textContent = `Привіт, ${payload.name || "користувачу"}! Ви увійшли через Google.`;
      } catch {
        userInfo.textContent = "Вітаємо! Ви увійшли через Google.";
      }
    } else {
      userInfo.textContent = "Ви не увійшли. Будь ласка, авторизуйтесь.";
    }
  </script>
</body>
</html>
